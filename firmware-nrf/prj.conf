# Project Configuration for NFC Passport Reader with BLE
# Compatible with Standalone Zephyr 3.5.0

# ==================== General Configuration ====================
CONFIG_MAIN_STACK_SIZE=4096
CONFIG_HEAP_MEM_POOL_SIZE=8192
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048

# ==================== Logging Configuration ====================
CONFIG_LOG=y
CONFIG_LOG_MODE_DEFERRED=y
CONFIG_LOG_BACKEND_UART=y
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_PRINTK=y
CONFIG_EARLY_CONSOLE=y

# ==================== GPIO Configuration ====================
CONFIG_GPIO=y

# ==================== I2C Configuration ====================
CONFIG_I2C=y

# ==================== Bluetooth Configuration ====================
# Core Bluetooth
CONFIG_BT=y
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_DEVICE_NAME="PassportReader"
CONFIG_BT_DEVICE_NAME_MAX=20
CONFIG_BT_DEVICE_NAME_DYNAMIC=y

# BLE Settings
CONFIG_BT_MAX_CONN=1
CONFIG_BT_MAX_PAIRED=1

# GATT Service
CONFIG_BT_GATT_SERVICE_CHANGED=y
CONFIG_BT_GATT_DYNAMIC_DB=y
CONFIG_BT_ATT_PREPARE_COUNT=2
CONFIG_BT_L2CAP_TX_BUF_COUNT=4

# MTU Size (Good for passport data transfer)
CONFIG_BT_L2CAP_TX_MTU=247
CONFIG_BT_BUF_ACL_TX_SIZE=251
CONFIG_BT_BUF_ACL_RX_SIZE=251

# Privacy and Security
CONFIG_BT_PRIVACY=y
CONFIG_BT_SMP=y
CONFIG_BT_SIGNING=y
CONFIG_BT_BONDABLE=y

# ==================== Cryptography - mbedTLS ====================
CONFIG_MBEDTLS=y
CONFIG_MBEDTLS_BUILTIN=y
CONFIG_MBEDTLS_ENABLE_HEAP=y
CONFIG_MBEDTLS_HEAP_SIZE=32768

# Core crypto support
CONFIG_MBEDTLS_CIPHER=y
CONFIG_MBEDTLS_MD=y

# Hash algorithms
CONFIG_MBEDTLS_MAC_SHA1_ENABLED=y
CONFIG_MBEDTLS_MAC_SHA256_ENABLED=y

# Cipher support
CONFIG_MBEDTLS_CIPHER_AES_ENABLED=y

# Random number generation
CONFIG_ENTROPY_GENERATOR=y
CONFIG_MBEDTLS_ENTROPY_ENABLED=y
CONFIG_MBEDTLS_CTR_DRBG_ENABLED=y
CONFIG_MBEDTLS_HMAC_DRBG_ENABLED=y

# ==================== Thread Configuration ====================
CONFIG_NUM_PREEMPT_PRIORITIES=15

# ==================== Timer Configuration ====================
CONFIG_SYS_CLOCK_TICKS_PER_SEC=1000

# ==================== Debug Configuration ====================
CONFIG_DEBUG=y
CONFIG_ASSERT=y
CONFIG_ASSERT_LEVEL=2

# ==================== Console Configuration ====================
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y

# ==================== Optimization ====================
CONFIG_SPEED_OPTIMIZATIONS=y

# ==================== BLE Controller Configuration ====================
# Note: Some of these options may not exist in Zephyr 3.5.0
# They are controller-specific and auto-configured based on other settings
CONFIG_BT_CTLR_DATA_LENGTH_MAX=251
CONFIG_BT_CTLR_RX_BUFFERS=6

# ==================== Optional Debug (Uncomment for troubleshooting) ====================
# CONFIG_BT_DEBUG_LOG=y
# CONFIG_BT_DEBUG_GATT=y
# CONFIG_BT_DEBUG_ATT=y
# CONFIG_BT_DEBUG_L2CAP=y